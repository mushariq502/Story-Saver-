<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Instant Story Saver ‚Äî Instagram</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Poppins',sans-serif;background:#f3f6fb;display:flex;min-height:100vh;color:#222}

    /* SIDEBAR */
    .sidebar{
      width:220px;background:linear-gradient(180deg,#833ab4,#fd1d1d,#fcb045);
      color:#fff;height:100vh;position:fixed;left:0;top:0;padding:28px 18px;overflow:auto;
      box-shadow:2px 0 14px rgba(0,0,0,0.14);animation:slideIn .45s ease;
    }
    @keyframes slideIn{from{transform:translateX(-18px);opacity:0}to{transform:none;opacity:1}}
    .brand{font-size:20px;font-weight:700;margin-bottom:18px}
    .navlink{display:block;color:#fff;text-decoration:none;padding:10px;border-radius:8px;margin:8px 0;transition:background .2s}
    .navlink:hover{background:rgba(255,255,255,0.12)}

    /* MAIN */
    .main{margin-left:220px;flex:1;padding:48px 36px;display:flex;align-items:flex-start;justify-content:center}
    @media (max-width:760px){.sidebar{display:none}.main{margin-left:0;padding:24px}}

    /* CONTENT CARD */
    .card{width:100%;max-width:640px;background:#fff;padding:28px;border-radius:14px;
         box-shadow:0 10px 30px rgba(18,38,63,0.07);animation:cardIn .6s ease}
    @keyframes cardIn{from{transform:translateY(18px);opacity:0}to{transform:none;opacity:1}}

    .heading{
      font-size:22px;margin-bottom:6px;line-height:1.1;
      background:linear-gradient(90deg,#f58529,#dd2a7b,#8134af,#515bd4);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:700;
    }
    .sub{color:#6b7280;margin-bottom:18px}

    .field{display:flex;gap:10px;margin-top:12px;align-items:center}
    .input{
      flex:1;padding:12px 14px;border-radius:10px;border:1px solid #e6e8ec;font-size:15px;
      transition:box-shadow .18s,border-color .18s;outline:none;
    }
    .input:focus{box-shadow:0 6px 20px rgba(129,52,175,0.08);border-color:#8134af}

    .btn{
      background:linear-gradient(90deg,#f58529,#dd2a7b,#8134af);border:none;color:#fff;
      padding:11px 16px;border-radius:10px;font-weight:600;cursor:pointer;min-width:120px;
      transition:transform .14s ease,opacity .14s;
    }
    .btn:active{transform:scale(.98)}
    .btn:disabled{opacity:.6;cursor:not-allowed}

    .small{font-size:13px;color:#6b7280;margin-top:12px}
    .links{display:flex;gap:10px;margin-top:20px;flex-wrap:wrap}

    .other-btn{
      background:#007bff;color:#fff;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;
    }

    /* toast/message */
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:30px;background:#111;color:#fff;padding:12px 16px;border-radius:8px;opacity:0;pointer-events:none;transition:all .3s}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0);pointer-events:auto}

    /* loader inside button */
    .loader{width:18px;height:18px;border:3px solid rgba(255,255,255,0.3);border-top-color:#fff;border-radius:50%;display:inline-block;margin-right:8px;vertical-align:middle;animation:spin .9s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* small responsive tweaks */
    @media (max-width:440px){
      .heading{font-size:20px}
      .btn{min-width:90px;padding:10px}
    }
  </style>
</head>
<body>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="brand">üì± Instant Saver</div>
    <a class="navlink" href="index.html">üì∏ Instagram</a>
    <a class="navlink" href="facebook.html">üìò Facebook</a>
    <a class="navlink" href="whatsapp.html">üü¢ WhatsApp</a>
    <hr style="border:none;height:1px;background:rgba(255,255,255,0.08);margin:14px 0">
    <a class="navlink" href="subscription.html">üí≥ Subscription</a>
    <a class="navlink" href="privacy.html">üîí Privacy</a>
    <a class="navlink" href="terms.html">üìÑ Terms</a>
    <a class="navlink" href="contact.html">üì¨ Contact</a>
    <a class="navlink" href="about.html">‚ÑπÔ∏è About</a>
    <a class="navlink" href="success.html"><strong>‚úÖ Feedback</strong></a>
  </aside>

  <!-- MAIN -->
  <main class="main">
    <section class="card" aria-labelledby="pageTitle">
      <h1 id="pageTitle" class="heading">Instagram Story Downloader</h1>
      <div class="sub">Paste an Instagram story link below ‚Äî or use your clipboard to paste quickly.</div>

      <div class="field">
        <input id="instaLink" class="input" type="text" placeholder="https://www.instagram.com/stories/..." aria-label="Instagram story URL">
        <button id="pasteBtn" class="btn" title="Paste from clipboard">üìã Paste</button>
        <button id="downloadBtn" class="btn" title="Download story">‚ñ∂Ô∏è Download</button>
      </div>

      <div class="small">Tip: If a direct URL is not available, open the story in Instagram app, copy the link (if possible), then paste here. WhatsApp feature coming soon (native Android).</div>

      <div class="links" aria-hidden="false">
        <button onclick="location.href='facebook.html'" class="other-btn">Facebook Downloader</button>
        <button onclick="location.href='whatsapp.html'" class="other-btn">WhatsApp Downloader</button>
      </div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    const pasteBtn = document.getElementById('pasteBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const instaLink = document.getElementById('instaLink');
    const toast = document.getElementById('toast');

    function showToast(msg, timeout=2500){
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'), timeout);
    }

    pasteBtn.addEventListener('click', async () => {
      // Try to read clipboard (works in secure contexts)
      try{
        const text = await navigator.clipboard.readText();
        if(text) {
          instaLink.value = text;
          showToast('Pasted from clipboard');
        } else showToast('Clipboard is empty');
      } catch (err) {
        showToast('Clipboard access denied');
      }
    });

    downloadBtn.addEventListener('click', () => {
      const url = instaLink.value.trim();
      if(!url){
        showToast('Please enter / paste a URL first');
        return;
      }
      // Basic URL validation (simple)
      if(!/^https?:\\/\\/|^instagram\\.com|instagram\\./i.test(url) && url.length < 10){
        showToast('Invalid URL');
        return;
      }

      // Simulated loader: disable buttons + show loader inside button
      downloadBtn.disabled = true;
      pasteBtn.disabled = true;
      const originalHTML = downloadBtn.innerHTML;
      downloadBtn.innerHTML = '<span class="loader"></span>Processing...';

      // Simulate async download / API call
      setTimeout(() => {
        downloadBtn.innerHTML = originalHTML;
        downloadBtn.disabled = false;
        pasteBtn.disabled = false;
        instaLink.value = '';
        showToast('Story downloaded (simulated). Implement backend to fetch real file.');
      }, 1800);
    });

    // optional: press Enter to trigger download
    instaLink.addEventListener('keydown', (e) => {
      if(e.key === 'Enter') downloadBtn.click();
    });
  </script>
</body>
</html>
